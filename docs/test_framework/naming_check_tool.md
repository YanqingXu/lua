# æµ‹è¯•æ–‡ä»¶å‘½åè§„èŒƒæ£€æŸ¥å·¥å…·

è¿™ä¸ªå·¥å…·é›†ç”¨äºæ£€æŸ¥ Lua é¡¹ç›®ä¸­æµ‹è¯•æ–‡ä»¶çš„å‘½åæ˜¯å¦ç¬¦åˆè§„èŒƒã€‚

## ğŸ“ æ–‡ä»¶è¯´æ˜

- **`check_naming.py`** - å®Œæ•´åŠŸèƒ½ç‰ˆæœ¬ï¼ŒåŒ…å«è¯¦ç»†æŠ¥å‘Šå’Œç»Ÿè®¡ä¿¡æ¯
- **`check_naming_simple.py`** - ç®€åŒ–ç‰ˆæœ¬ï¼ŒåŸºäº README.md ä¸­çš„åŸå§‹ä»£ç 
- **`check_naming.bat`** - Windows æ‰¹å¤„ç†æ–‡ä»¶ï¼ŒåŒå‡»å³å¯è¿è¡Œ
- **`NAMING_CHECK_README.md`** - æœ¬è¯´æ˜æ–‡ä»¶

## ğŸ¯ å‘½åè§„èŒƒ

### ä¸»æµ‹è¯•æ–‡ä»¶
- **æ ¼å¼**: `test_{æ¨¡å—å}_{å­æ¨¡å—å}.hpp`
- **ç¤ºä¾‹**: `test_parser_expr.hpp`, `test_vm_state.hpp`

### å­æ¨¡å—æµ‹è¯•æ–‡ä»¶
- **æ ¼å¼**: `{æ¨¡å—å}_{åŠŸèƒ½å}_test.hpp` å’Œ `{æ¨¡å—å}_{åŠŸèƒ½å}_test.cpp`
- **ç¤ºä¾‹**: `parser_binary_expr_test.hpp`, `vm_stack_test.cpp`

### é€šç”¨è§„åˆ™
- åªä½¿ç”¨å°å†™å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿
- ä¸ä½¿ç”¨å¤§å†™å­—æ¯æˆ–ç‰¹æ®Šå­—ç¬¦
- å¤´æ–‡ä»¶ä½¿ç”¨ `.hpp` æ‰©å±•å
- å®ç°æ–‡ä»¶ä½¿ç”¨ `.cpp` æ‰©å±•å

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šWindows æ‰¹å¤„ç†æ–‡ä»¶ï¼ˆæ¨èï¼‰

1. åŒå‡» `check_naming.bat` æ–‡ä»¶
2. è„šæœ¬ä¼šè‡ªåŠ¨æ£€æŸ¥ `src/tests` ç›®å½•
3. æŸ¥çœ‹æ£€æŸ¥ç»“æœ

### æ–¹æ³•äºŒï¼šPython å‘½ä»¤è¡Œ

#### å®Œæ•´ç‰ˆæœ¬
```bash
# æ£€æŸ¥é»˜è®¤ç›®å½• src/tests
python check_naming.py

# æ£€æŸ¥æŒ‡å®šç›®å½•
python check_naming.py src/tests

# æ˜¾ç¤ºè¯¦ç»†è¾“å‡º
python check_naming.py --verbose src/tests

# åªæ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯
python check_naming.py --stats-only src/tests

# æ˜¾ç¤ºä¿®å¤å»ºè®®
python check_naming.py --suggest-fixes src/tests
```

#### ç®€åŒ–ç‰ˆæœ¬
```bash
# æ£€æŸ¥é»˜è®¤ç›®å½•
python check_naming_simple.py

# æ£€æŸ¥æŒ‡å®šç›®å½•
python check_naming_simple.py src/tests
```

## ğŸ“Š è¾“å‡ºç¤ºä¾‹

### æˆåŠŸæƒ…å†µ
```
ğŸ” æ­£åœ¨æ£€æŸ¥ç›®å½•: src/tests
--------------------------------------------------
âœ… ä¸»æµ‹è¯•æ–‡ä»¶: parser/test_parser_expr.hpp
âœ… å­æ¨¡å—æµ‹è¯•æ–‡ä»¶: parser/parser_binary_expr_test.hpp
âœ… å­æ¨¡å—æµ‹è¯•æ–‡ä»¶: parser/parser_binary_expr_test.cpp

ğŸ‰ æ­å–œ! æ‰€æœ‰æ–‡ä»¶éƒ½ç¬¦åˆå‘½åè§„èŒƒ

ğŸ“Š ç»Ÿè®¡ä¿¡æ¯:
------------------------------
æ€»æ–‡ä»¶æ•°: 15
ä¸»æµ‹è¯•æ–‡ä»¶: 5
å­æ¨¡å—æµ‹è¯•æ–‡ä»¶: 8
å…¶ä»–æ–‡ä»¶: 2
é—®é¢˜æ–‡ä»¶: 0
è§„èŒƒç¬¦åˆç‡: 100.0%
```

### å‘ç°é—®é¢˜
```
âŒ å‘ç° 3 ä¸ªå‘½åè§„èŒƒé—®é¢˜:
============================================================

ğŸ“ ä¸»æµ‹è¯•æ–‡ä»¶ (1 ä¸ªé—®é¢˜):
  âŒ parser/TestParser.hpp
     é—®é¢˜: å‘½åæ ¼å¼ä¸æ­£ç¡®
     æœŸæœ›: test_{æ¨¡å—å}_{å­æ¨¡å—å}.hpp
     å®é™…: TestParser.hpp

ğŸ“ å­æ¨¡å—æµ‹è¯•æ–‡ä»¶ (2 ä¸ªé—®é¢˜):
  âŒ vm/StackTest.cpp
     é—®é¢˜: å‘½åæ ¼å¼ä¸æ­£ç¡®
     æœŸæœ›: {æ¨¡å—å}_{åŠŸèƒ½å}_test.hpp/cpp
     å®é™…: StackTest.cpp

ğŸ’¡ ä¿®å¤å»ºè®®:
------------------------------
â€¢ TestParser.hpp â†’ test_parser.hpp
â€¢ StackTest.cpp â†’ vm_stack_test.cpp
```

## âš™ï¸ é«˜çº§åŠŸèƒ½ï¼ˆå®Œæ•´ç‰ˆæœ¬ï¼‰

### å‘½ä»¤è¡Œå‚æ•°
- `-v, --verbose` - æ˜¾ç¤ºè¯¦ç»†è¾“å‡º
- `--stats-only` - åªæ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯
- `--suggest-fixes` - æ˜¾ç¤ºä¿®å¤å»ºè®®

### è‡ªåŠ¨è·³è¿‡ç›®å½•
è„šæœ¬ä¼šè‡ªåŠ¨è·³è¿‡ä»¥ä¸‹ç›®å½•ï¼š
- éšè—ç›®å½•ï¼ˆä»¥ `.` å¼€å¤´ï¼‰
- æ„å»ºç›®å½•ï¼ˆ`build`, `Debug`, `Release`ï¼‰

### æ£€æŸ¥èŒƒå›´
- ä¸»æµ‹è¯•æ–‡ä»¶å‘½åæ ¼å¼
- å­æ¨¡å—æµ‹è¯•æ–‡ä»¶å‘½åæ ¼å¼
- æ–‡ä»¶æ‰©å±•åæ­£ç¡®æ€§
- å¤§å†™å­—æ¯å’Œç‰¹æ®Šå­—ç¬¦æ£€æŸ¥

## ğŸ”§ é›†æˆåˆ° CI/CD

### GitHub Actions
```yaml
- name: Check naming convention
  run: |
    python check_naming.py src/tests
    if [ $? -ne 0 ]; then
      echo "å‘½åè§„èŒƒæ£€æŸ¥å¤±è´¥"
      exit 1
    fi
```

### æœ¬åœ° Git Hook
```bash
#!/bin/sh
# .git/hooks/pre-commit
python check_naming.py src/tests
if [ $? -ne 0 ]; then
    echo "æäº¤è¢«æ‹’ç»ï¼šæµ‹è¯•æ–‡ä»¶å‘½åä¸ç¬¦åˆè§„èŒƒ"
    exit 1
fi
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: æç¤º "æœªæ‰¾åˆ° Python"**
A: è¯·å®‰è£… Python 3.6+ å¹¶ç¡®ä¿æ·»åŠ åˆ° PATH ç¯å¢ƒå˜é‡

**Q: æç¤º "æœªæ‰¾åˆ°æ£€æŸ¥è„šæœ¬æ–‡ä»¶"**
A: ç¡®ä¿è„šæœ¬æ–‡ä»¶åœ¨å½“å‰ç›®å½•ï¼Œæˆ–ä½¿ç”¨å®Œæ•´è·¯å¾„

**Q: æç¤º "æœªæ‰¾åˆ° src/tests ç›®å½•"**
A: ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œè„šæœ¬ï¼Œæˆ–æŒ‡å®šæ­£ç¡®çš„æµ‹è¯•ç›®å½•è·¯å¾„

**Q: è„šæœ¬è¿è¡Œä½†æ²¡æœ‰è¾“å‡º**
A: æ£€æŸ¥ç›®å½•ä¸­æ˜¯å¦æœ‰ .hpp æˆ– .cpp æ–‡ä»¶

### è°ƒè¯•æ¨¡å¼
```bash
# ä½¿ç”¨è¯¦ç»†æ¨¡å¼æŸ¥çœ‹æ›´å¤šä¿¡æ¯
python check_naming.py --verbose src/tests
```

## ğŸ“ è‡ªå®šä¹‰è§„åˆ™

å¦‚éœ€ä¿®æ”¹å‘½åè§„åˆ™ï¼Œè¯·ç¼–è¾‘ `check_naming.py` ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š

```python
# ä¸»æµ‹è¯•æ–‡ä»¶å‘½åè§„èŒƒ
self.main_test_pattern = re.compile(r'^test_[a-z]+(_[a-z]+)*\.hpp$')

# å­æ¨¡å—æµ‹è¯•æ–‡ä»¶å‘½åè§„èŒƒ
self.sub_test_hpp_pattern = re.compile(r'^[a-z]+(_[a-z]+)*_test\.hpp$')
self.sub_test_cpp_pattern = re.compile(r'^[a-z]+(_[a-z]+)*_test\.cpp$')
```

## ğŸ“„ è®¸å¯è¯

æœ¬å·¥å…·éµå¾ªé¡¹ç›®çš„è®¸å¯è¯æ¡æ¬¾ã€‚